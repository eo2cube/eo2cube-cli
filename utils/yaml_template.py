import yaml

class Ydumper(yaml.Dumper):
    def increase_indent(self, flow=False, indentless=False):
        return super(Ydumper, self).increase_indent(flow, False)

def type_yaml():
    data_type_yaml={'name': 's2_ard_scene',
             'description': 'Sentinel 2 L2A scenes. 10, 20 and 60 m UTM based projection.',
             'metadata_type': 'eo',
             'metadata': {'platform': {'code': 'SENTINEL_2'},
              'instrument': {'name': 'MSI'},
              'product_type': 'L2A',
              'format': {'name': 'GeoTiff'}},
             'measurements': [{'name': 'B01_60m',
               'aliases': ['band_1', 'coastal_aerosol'],
               'dtype': 'int16',
               'nodata': -9999,
               'units': 'reflectance'},
              {'name': 'B02_10m',
               'aliases': ['band_2', 'blue'],
               'dtype': 'int16',
               'nodata': -9999,
               'units': 'reflectance'},
              {'name': 'B03_10m',
               'aliases': ['band_3', 'green'],
               'dtype': 'int16',
               'nodata': -9999,
               'units': 'reflectance'},
              {'name': 'B04_10m',
               'aliases': ['band_4', 'red'],
               'dtype': 'int16',
               'nodata': -9999,
               'units': 'reflectance'},
              {'name': 'B05_20m',
               'aliases': ['band_5', 'veg5'],
               'dtype': 'int16',
               'nodata': -9999,
               'units': 'reflectance'},
              {'name': 'B06_20m',
               'aliases': ['band_6', 'veg6'],
               'dtype': 'int16',
               'nodata': -9999,
               'units': 'reflectance'},
              {'name': 'B07_20m',
               'aliases': ['band_7', 'veg7'],
               'dtype': 'int16',
               'nodata': -9999,
               'units': 'reflectance'},
              {'name': 'B08_10m',
               'aliases': ['band_8', 'nir'],
               'dtype': 'int16',
               'nodata': -9999,
               'units': 'reflectance'},
              {'name': 'B8A_20m',
               'aliases': ['band_8a', 'narrow_nir'],
               'dtype': 'int16',
               'nodata': -9999,
               'units': 'reflectance'},
              {'name': 'B09_60m',
               'aliases': ['band_9', 'water_vapour'],
               'dtype': 'int16',
               'nodata': -9999,
               'units': 'reflectance'},
              {'name': 'B11_20m',
               'aliases': ['band_11', 'swir1'],
               'dtype': 'int16',
               'nodata': -9999,
               'units': 'reflectance'},
              {'name': 'B12_20m',
               'aliases': ['band_12', 'swir2'],
               'dtype': 'int16',
               'nodata': -9999,
               'units': 'reflectance'},
              {'name': 'SCL_20m',
               'aliases': ['scl'],
               'dtype': 'uint8',
               'nodata': 0,
               'units': '1',
               'flags_definition': {'scl': {'bits': [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11],
                 'description': 'Scene classification',
                 'values': {1: 'Saturated or defective pixel',
                  2: 'Dark features / Shadows',
                  3: 'Cloud shadows',
                  4: 'Vegetation',
                  5: 'Not vegetated',
                  6: 'Water',
                  7: 'Unclassified',
                  8: 'Cloud medium probability',
                  9: 'cloud high probability',
                  10: 'Thin cirrus',
                  11: 'Snow or ice'}}}}]}
    return(data_type_yaml)

def ingestion_yaml():
    ingest_yaml = {'source_type': None,
         'output_type': None,
         'description': None,
         'location': '/datacube/ingested_data',
         'file_path_template': 's2_ard_10m/s2_ard_10m_4326_{tile_index[0]}_{tile_index[1]}_{start_time}.nc',
         'global_attributes': {'title': None,
          'summary': None,
          'source': None,
          'institution': None,
          'instrument': 'MSI',
          'cdm_data_type': 'Grid',
          'keywords': None,
          'keywords_vocabulary': 'GCMD',
          'platform': 'Sentinel_2',
          'processing_level': 'L2A',
          'product_version': '0.0.0',
          'product_suite': 'Sentinel 2 MSI',
          'project': None,
          'coverage_content_type': 'physicalMeasurement',
          'references': 'http://dx.doi.org/10.3334/ORNLDAAC/1146',
          'license': 'https://creativecommons.org/licenses/by/4.0/',
          'naming_authority': 'ESA',
          'acknowledgment': 'Sentinel 2 are freely distributed by ESA (European Spatial Agency.'},
         'ingestion_bounds': {'left': None,
          'bottom': None,
          'right': None,
          'top': None},
         'storage': {'driver': 'NetCDF CF',
          'crs': 'EPSG:4326',
          'tile_size': {'longitude': None, 'latitude': None},
          'resolution': {'longitude': None, 'latitude': None},
          'chunking': {'longitude': 200, 'latitude': 200, 'time': 1},
          'dimension_order': ['time', 'latitude', 'longitude']},
         'fuse_data': 'copy',
         'measurements': [{'name': 'coastal_aerosol',
           'dtype': 'int16',
           'nodata': -9999,
           'resampling_method': 'nearest',
           'src_varname': 'B01_60m',
           'zlib': True,
           'attrs': {'long_name': 'Surface reflectance 0.43-0.45 microns (Coastal aerosol)',
            'alias': 'band_1'}},
          {'name': 'blue',
           'dtype': 'int16',
           'nodata': -9999,
           'resampling_method': 'nearest',
           'src_varname': 'B02_10m',
           'zlib': True,
           'attrs': {'long_name': 'Surface reflectance 0.46-0.52 microns (Blue)',
            'alias': 'band_2'}},
          {'name': 'green',
           'dtype': 'int16',
           'nodata': -9999,
           'resampling_method': 'nearest',
           'src_varname': 'B03_10m',
           'zlib': True,
           'attrs': {'long_name': 'Surface reflectance 0.54-0.58 microns (Green)',
            'alias': 'band_3'}},
          {'name': 'red',
           'dtype': 'int16',
           'nodata': -9999,
           'resampling_method': 'nearest',
           'src_varname': 'B04_10m',
           'zlib': True,
           'attrs': {'long_name': 'Surface reflectance 0.65-0.68 microns (Red)',
            'alias': 'band_4'}},
          {'name': 'veg5',
           'dtype': 'int16',
           'nodata': -9999,
           'resampling_method': 'nearest',
           'src_varname': 'B05_20m',
           'zlib': True,
           'attrs': {'long_name': 'Surface reflectance 0.70-0.71 microns (Vegetation band 5)',
            'alias': 'band_5'}},
          {'name': 'veg6',
           'dtype': 'int16',
           'nodata': -9999,
           'resampling_method': 'nearest',
           'src_varname': 'B06_20m',
           'zlib': True,
           'attrs': {'long_name': 'Surface reflectance 0.73-0.75 microns (Vegetation band 6)',
            'alias': 'band_6'}},
          {'name': 'veg7',
           'dtype': 'int16',
           'nodata': -9999,
           'resampling_method': 'nearest',
           'src_varname': 'B07_20m',
           'zlib': True,
           'attrs': {'long_name': 'Surface reflectance 0.77-0.79 microns (Vegetation band 7)',
            'alias': 'band_7'}},
          {'name': 'nir',
           'dtype': 'int16',
           'nodata': -9999,
           'resampling_method': 'nearest',
           'src_varname': 'B08_10m',
           'zlib': True,
           'attrs': {'long_name': 'Surface reflectance 0.78-0.90 microns (Near Infrared)',
            'alias': 'band_8'}},
          {'name': 'narrow_nir',
           'dtype': 'int16',
           'nodata': -9999,
           'resampling_method': 'nearest',
           'src_varname': 'B8A_20m',
           'zlib': True,
           'attrs': {'long_name': 'Surface reflectance 0.86-0.88 microns (Narrow Near Infrared)',
            'alias': 'band_8a'}},
          {'name': 'water_vapour',
           'dtype': 'int16',
           'nodata': -9999,
           'resampling_method': 'nearest',
           'src_varname': 'B09_60m',
           'zlib': True,
           'attrs': {'long_name': 'Surface reflectance 0.94-0.96 microns (Water Vapour)',
            'alias': 'band_9'}},
          {'name': 'swir1',
           'dtype': 'int16',
           'nodata': -9999,
           'resampling_method': 'nearest',
           'src_varname': 'B11_20m',
           'zlib': True,
           'attrs': {'long_name': 'Surface reflectance 1.57-1.66 microns (Short-Wave Infrared)',
            'alias': 'band_11'}},
          {'name': 'swir2',
           'dtype': 'int16',
           'nodata': -9999,
           'resampling_method': 'nearest',
           'src_varname': 'B12_20m',
           'zlib': True,
           'attrs': {'long_name': 'Surface reflectance 2.10-1.28 microns (Short-Wave Infrared)',
            'alias': 'band_12'}},
          {'name': 'scl',
           'dtype': 'uint8',
           'nodata': 0,
           'resampling_method': 'nearest',
           'src_varname': 'SCL_20m',
           'zlib': True,
           'attrs': {'long_name': 'Scene classification'}}]}
    return(ingest_yaml)
